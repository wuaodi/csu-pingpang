<view class="container">
  <view class="header">
    <text class="title">ğŸ“ æ¯”èµ›è®°åˆ†</text>
  </view>

  <!-- é€‰æ‹©å¯¹æ‰‹ -->
  <view class="opponent-section">
    <text class="section-title">é€‰æ‹©å¯¹æ‰‹</text>
    <view class="opponent-list">
      <view class="opponent-item {{selectedOpponent._id === item._id ? 'selected' : ''}}" 
            wx:for="{{allUsers}}" wx:key="_id" bindtap="selectOpponent" data-opponent="{{item}}">
        <image class="opponent-avatar" src="{{item.avatarUrl}}" mode="aspectFill"></image>
        <text class="opponent-name">{{item.nickName}}</text>
      </view>
    </view>
  </view>

  <!-- æ¯”åˆ†è®¾ç½® -->
  <view class="score-section" wx:if="{{selectedOpponent}}">
    <text class="section-title">è®¾ç½®æ¯”åˆ†</text>
    
    <view class="players">
      <view class="player">
        <image class="player-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
        <text class="player-name">{{userInfo.nickName}}</text>
        <text class="vs-text">VS</text>
      </view>
      <view class="player">
        <image class="player-avatar" src="{{selectedOpponent.avatarUrl}}" mode="aspectFill"></image>
        <text class="player-name">{{selectedOpponent.nickName}}</text>
      </view>
    </view>

    <view class="score-input">
      <view class="score-item">
        <text class="score-label">æˆ‘çš„å¾—åˆ†</text>
        <view class="score-controls">
          <button class="score-btn" bindtap="changeScore" data-player="player1" data-action="minus">-</button>
          <text class="score-value">{{player1Score}}</text>
          <button class="score-btn" bindtap="changeScore" data-player="player1" data-action="plus">+</button>
        </view>
      </view>
      
      <view class="score-divider">:</view>
      
      <view class="score-item">
        <text class="score-label">å¯¹æ‰‹å¾—åˆ†</text>
        <view class="score-controls">
          <button class="score-btn" bindtap="changeScore" data-player="player2" data-action="minus">-</button>
          <text class="score-value">{{player2Score}}</text>
          <button class="score-btn" bindtap="changeScore" data-player="player2" data-action="plus">+</button>
        </view>
      </view>
    </view>

    <!-- å¿«é€Ÿè®¾ç½®æ¯”åˆ† -->
    <view class="quick-scores">
      <text class="quick-title">å¿«é€Ÿè®¾ç½®</text>
      <view class="quick-btns">
        <button class="quick-btn" bindtap="setQuickScore" data-score1="11" data-score2="9">11:9</button>
        <button class="quick-btn" bindtap="setQuickScore" data-score1="11" data-score2="7">11:7</button>
        <button class="quick-btn" bindtap="setQuickScore" data-score1="11" data-score2="5">11:5</button>
        <button class="quick-btn" bindtap="setQuickScore" data-score1="9" data-score2="11">9:11</button>
        <button class="quick-btn" bindtap="setQuickScore" data-score1="7" data-score2="11">7:11</button>
        <button class="quick-btn" bindtap="setQuickScore" data-score1="5" data-score2="11">5:11</button>
      </view>
    </view>

    <!-- æäº¤æŒ‰é’® -->
    <button class="submit-btn" bindtap="submitScore" disabled="{{!selectedOpponent}}">
      <text>ğŸ¯ æäº¤æ¯”åˆ†</text>
    </button>
  </view>

  <!-- æœªé€‰æ‹©å¯¹æ‰‹çš„æç¤º -->
  <view class="empty-state" wx:if="{{!selectedOpponent}}">
    <text class="empty-icon">ğŸ¤”</text>
    <text class="empty-text">è¯·å…ˆé€‰æ‹©ä¸€ä¸ªå¯¹æ‰‹å¼€å§‹æ¯”èµ›</text>
  </view>
</view> 