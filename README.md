# 🏓 CSU乒乓球计分小程序

一个简洁、高效的微信小程序，专为乒乓球比赛计分和数据管理而设计。支持多设备数据同步，适合团队、社团或个人使用。

## ✨ 功能特性

### 📊 核心功能
- **⚡ 比赛记分** - 简洁的上下布局分数输入，支持直接数字输入
- **🏆 排行榜** - 自动计算胜率排名，智能显示比赛记录
- **👥 选手管理** - 便捷的选手添加/删除，自动统计比赛数据

### 🌐 数据同步
- **多设备同步** - 基于JSONBin.io的云端数据存储
- **智能缓存** - 本地缓存机制，减少API调用
- **自动同步** - 后台智能同步，无需手动操作

### 📱 用户体验
- **简洁界面** - 现代化UI设计，操作直观
- **性能优化** - 智能显示最近10条记录和"上月今日"记录
- **免登录** - 无需复杂的用户认证流程

## 🚀 快速开始

### 前置要求
- 微信开发者工具
- 有效的微信小程序AppID（可使用测试号）

### 安装部署

1. **克隆项目**
   ```bash
   git clone https://github.com/wuaodi/csu-pingpang.git
   cd csu-pingpang
   ```

2. **导入微信开发者工具**
   - 打开微信开发者工具
   - 选择"导入项目"
   - 选择项目目录
   - 填入AppID

3. **配置云存储（可选）**
   - 项目已配置JSONBin.io进行数据同步
   - 如需更换配置，请修改 `utils/autoSync.js` 中的API密钥

## 📖 使用说明

### 基本流程
1. **添加选手** - 进入"👥 选手"页面，点击"+ 添加选手"
2. **记录比赛** - 在"⚡ 记分"页面选择对战选手并输入分数
3. **查看排名** - 在"🏆 榜单"页面查看胜率排行和比赛记录

### 数据管理
- **自动备份** - 数据自动同步到云端
- **导出功能** - 支持将数据导出为文本格式
- **智能显示** - 自动优化长期使用的数据显示

## 🔧 技术架构

### 技术栈
- **前端框架** - 微信小程序原生开发
- **数据存储** - 本地Storage + JSONBin.io云同步
- **UI设计** - 现代化渐变色彩设计

### 核心文件
```
csu-pingpang/
├── app.js                  # 小程序入口
├── app.json               # 全局配置
├── utils/
│   └── autoSync.js        # 自动同步工具
├── pages/
│   ├── record/            # 记分页面
│   ├── leaderboard/       # 榜单页面
│   └── players/           # 选手管理页面
└── README.md              # 项目说明
```

## 💰 JSONBin.io 额度管理

### 当前配置
- **免费额度** - 10,000次API请求/月
- **优化策略** - 智能缓存、批量同步、数据对比

### 额度用完解决方案

当JSONBin.io免费额度用完时，您可以按以下步骤迁移：

#### 1. 数据备份
```javascript
// 在微信开发者工具控制台执行
const players = wx.getStorageSync('players') || [];
const games = wx.getStorageSync('games') || [];
console.log('选手数据:', JSON.stringify(players));
console.log('比赛数据:', JSON.stringify(games));
```

#### 2. 创建新JSONBin账户
1. 访问 [JSONBin.io](https://jsonbin.io)
2. 注册新账户
3. 创建两个新的Bin：
   - `csu-pingpang-users` (选手数据)
   - `csu-pingpang-games` (比赛数据)

#### 3. 更新配置
修改 `utils/autoSync.js` 文件：
```javascript
this.config = {
  apiKey: '新的API密钥',
  playersCollectionId: '新的选手数据BinID',
  gamesCollectionId: '新的比赛数据BinID',
  // ... 其他配置保持不变
};
```

#### 4. 数据恢复
将备份的数据上传到新的Bin中，或在小程序中重新录入。

### 替代方案
- **GitHub Gist** - 免费但需要处理认证
- **自建服务器** - 完全控制但需要维护
- **微信云开发** - 官方方案但有费用

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发规范
- 保持代码简洁易读
- 遵循微信小程序开发规范
- 优先考虑用户体验

### 提交流程
1. Fork本仓库
2. 创建特性分支
3. 提交更改
4. 发起Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 📞 联系方式

如有问题或建议，请通过GitHub Issues联系。

---

**⭐ 如果这个项目对您有帮助，请给个Star支持一下！**
