<view class="container">
  <view class="header">
    <text class="title">🏓CSU 乒乓球计分器</text>
    <text class="subtitle">记录每一次精彩对决</text>
  </view>
  
  <view class="user-section" wx:if="{{!userInfo}}">
    <button class="auth-btn" open-type="getUserProfile" bindtap="getUserProfile">
      <text>📷 获取头像开始使用</text>
    </button>
  </view>
  
  <view class="user-section" wx:if="{{userInfo}}">
    <view class="user-card">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-info">
        <text class="nickname">{{userInfo.nickName}}</text>
        <text class="welcome">欢迎使用乒乓球计分器</text>
      </view>
    </view>
  </view>

  <view class="quick-actions" wx:if="{{userInfo}}">
    <navigator url="/pages/record/record" class="action-card record-card">
      <view class="action-icon">⚡</view>
      <view class="action-text">
        <text class="action-title">快速记分</text>
        <text class="action-desc">记录新的比赛结果</text>
      </view>
    </navigator>
    
    <navigator url="/pages/leaderboard/leaderboard" class="action-card rank-card">
      <view class="action-icon">🏆</view>
      <view class="action-text">
        <text class="action-title">查看榜单</text>
        <text class="action-desc">查看所有比赛记录</text>
      </view>
    </navigator>
  </view>

  <view class="stats" wx:if="{{userInfo && stats}}">
    <text class="stats-title">📊 数据统计</text>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{stats.totalGames}}</text>
        <text class="stat-label">总场次</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.wins}}</text>
        <text class="stat-label">胜利</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.losses}}</text>
        <text class="stat-label">失败</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.winRate}}%</text>
        <text class="stat-label">胜率</text>
      </view>
    </view>
  </view>
</view> 